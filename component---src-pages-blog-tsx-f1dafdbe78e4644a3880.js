"use strict";(self.webpackChunksite_gruppo_natura_lentiai=self.webpackChunksite_gruppo_natura_lentiai||[]).push([[663],{1216:function(e,t,n){n.d(t,{AV:function(){return x},Bb:function(){return u},Cg:function(){return h},HL:function(){return y},IN:function(){return c},QX:function(){return b},S0:function(){return s},Wu:function(){return p},ZB:function(){return f},Zp:function(){return g},eG:function(){return o},kS:function(){return v},mc:function(){return l},xA:function(){return m},y3:function(){return d}});var a=n(9616),i=n(7693),r=n(1163);const l=a.default.div.withConfig({displayName:"styled__Container",componentId:"sc-tuxpxo-0"})(["margin-top:2rem;padding:2rem;padding-top:3rem;max-width:1200px;margin:0 auto;width:100%;box-sizing:border-box;@media (max-width:","px){padding:1.5rem 1rem;}"],i.O3.mobile),o=a.default.article.withConfig({displayName:"styled__FeaturedPostWrapper",componentId:"sc-tuxpxo-1"})(["margin-bottom:4rem;border-radius:12px;overflow:hidden;box-shadow:0 4px 12px ","66;cursor:pointer;background:#fff;transition:all 0.3s ease;display:flex;flex-direction:row;align-items:stretch;height:400px;&:hover{transform:translateY(-5px);box-shadow:0 8px 24px ","66;}@media (max-width:","){flex-direction:column;height:auto;}"],i.Tj.green.green600,i.Tj.green.green700,i.C9.bigtablet),d=a.default.div.withConfig({displayName:"styled__CoverImgWrapper",componentId:"sc-tuxpxo-2"})(["flex:",";.gatsby-image-wrapper,.cover-image{width:100%;height:",";object-fit:cover;@media (max-width:","){height:",";}@media (max-width:","){height:",";}}"],e=>{let{$isFeatured:t}=e;return t?"1":"none"},e=>{let{$isFeatured:t}=e;return t?"100%":"220px"},i.C9.bigtablet,e=>{let{$isFeatured:t}=e;return t?"350px":"220px"},i.C9.mobile,e=>{let{$isFeatured:t}=e;return t?"250px":"200px"}),s=a.default.div.withConfig({displayName:"styled__FeaturedContent",componentId:"sc-tuxpxo-3"})(["flex:1;padding:2.5rem;display:flex;flex-direction:column;justify-content:center;overflow:hidden;@media (max-width:","){padding:2rem;}@media (max-width:","){padding:1.5rem;}"],i.C9.bigtablet,i.C9.mobile),u=(0,a.default)(r.H2).withConfig({displayName:"styled__FeaturedTitle",componentId:"sc-tuxpxo-4"})(["margin:0 0 0.5rem;"]),c=(0,a.default)(r.P3).withConfig({displayName:"styled__MetaInfo",componentId:"sc-tuxpxo-5"})(["color:",";margin-bottom:1rem;font-style:italic;"],i.Tj.green.green600),m=a.default.div.withConfig({displayName:"styled__Grid",componentId:"sc-tuxpxo-6"})(["display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:2.5rem;@media (max-width:","px){grid-template-columns:1fr;}"],i.O3.mobile),g=a.default.article.withConfig({displayName:"styled__Card",componentId:"sc-tuxpxo-7"})(["border-radius:12px;overflow:hidden;box-shadow:0 2px 8px ","40;background:#fff;display:flex;flex-direction:column;cursor:pointer;transition:all 0.3s ease;&:hover{transform:translateY(-5px);box-shadow:0 8px 20px ","50;}"],i.Tj.green.green600,i.Tj.green.green700),p=a.default.div.withConfig({displayName:"styled__CardContent",componentId:"sc-tuxpxo-8"})(["padding:1.5rem;flex:1;display:flex;flex-direction:column;"]),f=(0,a.default)(r.H3).attrs({as:"h2"}).withConfig({displayName:"styled__CardTitle",componentId:"sc-tuxpxo-9"})(["margin:0 0 0.5rem;line-height:1.3;"]),x=(0,a.default)(r.P3).withConfig({displayName:"styled__CardExcerpt",componentId:"sc-tuxpxo-10"})(["margin:0;color:",";display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;"],i.Tj.green.green900),h=a.default.div.withConfig({displayName:"styled__PaginationWrapper",componentId:"sc-tuxpxo-11"})(["display:flex;justify-content:center;align-items:center;gap:12px;margin-top:4rem;"]),v=a.default.button.withConfig({displayName:"styled__PageButton",componentId:"sc-tuxpxo-12"})(["background-color:",";color:",";border:none;border-radius:8px;width:45px;height:45px;font-size:16px;font-weight:bold;cursor:pointer;transition:all 0.3s ease;display:flex;align-items:center;justify-content:center;&:hover:not(:disabled){background-color:",";transform:translateY(-2px);}&:disabled{opacity:0.5;cursor:not-allowed;}"],e=>{let{$active:t}=e;return t?i.Tj.green.green600:i.Tj.green.green200},e=>{let{$active:t}=e;return t?i.Tj.green.green50:i.Tj.green.green900},e=>{let{$active:t}=e;return t?i.Tj.green.green700:i.Tj.green.green300}),b=a.default.div.withConfig({displayName:"styled__PageNumbers",componentId:"sc-tuxpxo-13"})(["display:flex;gap:12px;@media (max-width:","px){display:none;}"],i.O3.mobile),y=(0,a.default)(r.P3).withConfig({displayName:"styled__MobilePageIndicator",componentId:"sc-tuxpxo-14"})(["display:none;@media (max-width:","px){display:block;font-weight:bold;margin:0 1rem;color:",";}"],i.O3.mobile,i.Tj.green.green900)},1763:function(e,t,n){n.d(t,{J1:function(){return a},Ns:function(){return i}});const a=e=>{if(!e)return null;const[,t,n,a]=e.match(/image-([^-]+)-(\d+x\d+)-(.+)/)||[];return t&&n&&a?"https://cdn.sanity.io/images/ze02ljgl/post-blog/"+t+"-"+n+"."+a:null},i=e=>e.filter(e=>"block"===e._type).map(e=>e.children.map(e=>{var t;return null!==(t=null==e?void 0:e.text)&&void 0!==t?t:""}).join("")).join(" ").slice(0,200).concat("...")},7939:function(e,t,n){n.r(t),n.d(t,{Head:function(){return h},default:function(){return x}});n(6910);var a=n(4506),i=n(6540),r=n(5048);var l=n(5588),o=n(1216),d=n(1163),s=n(4794);const u=e=>{var t,n;return e.coverImage.gatsbyImage?i.createElement(l.G,{image:e.coverImage.gatsbyImage,alt:null!==(t=e.coverImage.altText)&&void 0!==t?t:"Cover image"}):e.coverImage.renderImageUrl?i.createElement("img",{className:"cover-image",src:e.coverImage.renderImageUrl,alt:null!==(n=e.coverImage.altText)&&void 0!==n?n:"Cover image"}):null},c=e=>{let{posts:t,isFromPost:n}=e;const{0:r,1:l}=(0,i.useState)(1),c=(0,i.useRef)(null);(0,i.useEffect)(()=>{if(n){const e=sessionStorage.getItem("gnl-blog-page");e&&l(parseInt(e,10))}else sessionStorage.removeItem("gnl-blog-page"),l(1)},[n]);if(!t||0===t.length)return i.createElement(d.P2,{style:{textAlign:"center",marginTop:"2rem"}},"Nessun articolo pubblicato al momento.");const m=(0,a.A)(t).sort((e,t)=>new Date(t.publishedAt).getTime()-new Date(e.publishedAt).getTime()),[g,...p]=m,f=Math.ceil(p.length/6),x=p.slice(6*(r-1),6*r),h=e=>{if(l(e),"undefined"!=typeof window&&sessionStorage.setItem("gnl-blog-page",e.toString()),c.current){const e=c.current.getBoundingClientRect().top+window.scrollY-100;window.scrollTo({top:e,behavior:"smooth"})}},v=(b=r,(y=f)<=5?Array(y).fill(0).map((e,t)=>t+1):b<=3?[1,2,3,4,5]:b>=y-2?[y-4,y-3,y-2,y-1,y]:[b-2,b-1,b,b+1,b+2]);var b,y;return i.createElement(o.mc,null,1===r&&i.createElement(o.eG,{onClick:()=>(0,s.navigate)(""+g.slug)},i.createElement(o.y3,{$isFeatured:!0},u(g)),i.createElement(o.S0,null,i.createElement(d.P4,{style:{color:"#FE4A49",fontWeight:"bold",marginBottom:"0.5rem"}},"ULTIMO ARTICOLO"),i.createElement(o.Bb,null,g.title),i.createElement(o.IN,null,new Date(g.publishedAt).toLocaleDateString("it-IT",{weekday:"long",year:"numeric",month:"long",day:"numeric"})," ","• ",g.author),i.createElement(d.P2,null,g.excerpt))),i.createElement("div",{ref:c},i.createElement(o.xA,null,x.map(e=>i.createElement(o.Zp,{key:e.slug,onClick:()=>(0,s.navigate)(""+e.slug)},i.createElement(o.y3,{$isFeatured:!1},u(e)),i.createElement(o.Wu,null,i.createElement(o.ZB,null,e.title),i.createElement(o.IN,null,new Date(e.publishedAt).toLocaleDateString("it-IT",{year:"numeric",month:"long",day:"numeric"})),i.createElement(o.AV,null,e.excerpt)))))),f>1&&i.createElement(o.Cg,null,i.createElement(o.kS,{className:"desktop-only",onClick:()=>h(1),disabled:1===r,"aria-label":"Prima pagina"},"«"),i.createElement(o.kS,{onClick:()=>h(r-1),disabled:1===r,"aria-label":"Pagina precedente"},"←"),i.createElement(o.QX,null,v.map(e=>i.createElement(o.kS,{key:e,$active:r===e,onClick:()=>h(e)},e))),i.createElement(o.HL,null,"Pagina ",r," di ",f),i.createElement(o.kS,{onClick:()=>h(r+1),disabled:r===f,"aria-label":"Pagina successiva"},"→"),i.createElement(o.kS,{className:"desktop-only",onClick:()=>h(f),disabled:r===f,"aria-label":"Ultima pagina"},"»")))};var m=n(1763),g=n(7559);const p=e=>"/post/1"!==e.slug&&"/post/2"!==e.slug,f=(e,t)=>new Date(e.publishedAt).getTime()-new Date(t.publishedAt).getTime();var x=e=>{var t;let{data:n,location:l}=e;const o=!0===(null===(t=l.state)||void 0===t?void 0:t.fromPost),d=(0,i.useMemo)(()=>(n.allSanityPost.nodes||[]).map(e=>{var t,n,a,i,r,l,o,d;return{id:e.id,title:e.title,publishedAt:e.publishedAt,author:e.author,slug:e.slug.current,excerpt:(0,m.Ns)(e._rawBody),coverImage:{description:null===(t=e.image)||void 0===t||null===(n=t.asset)||void 0===n?void 0:n.description,altText:null===(a=e.image)||void 0===a||null===(i=a.asset)||void 0===i?void 0:i.altText,title:null===(r=e.image)||void 0===r||null===(l=r.asset)||void 0===l?void 0:l.title,gatsbyImage:(null===(o=e.image)||void 0===o||null===(d=o.asset)||void 0===d?void 0:d.gatsbyImageData)||null}}}),[n]),{0:s,1:u}=(0,i.useState)(d.filter(p).sort(f).reverse());return(0,i.useEffect)(()=>{(async()=>{try{var e,t;const n="query {\n          allPost {\n            _id\n            slug { current }\n            title\n            publishedAt\n            bodyRaw\n            author\n            image {\n              asset {\n                description\n                title\n                altText\n                url\n              }\n            }\n          }\n        }",i=await fetch("https://ze02ljgl.api.sanity.io/v2023-08-01/graphql/post-blog/default",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:n})}),r=await i.json();if(r.errors)throw new Error(r.errors[0].message);const l=(null!==(e=null===(t=r.data)||void 0===t?void 0:t.allPost)&&void 0!==e?e:[]).map(e=>{var t,n,a,i,r,l,o,d;return{id:e._id,title:e.title,publishedAt:e.publishedAt,author:e.author,slug:e.slug.current,excerpt:(0,m.Ns)(e.bodyRaw),coverImage:{description:null===(t=e.image)||void 0===t||null===(n=t.asset)||void 0===n?void 0:n.description,altText:null===(a=e.image)||void 0===a||null===(i=a.asset)||void 0===i?void 0:i.altText,title:null===(r=e.image)||void 0===r||null===(l=r.asset)||void 0===l?void 0:l.title,renderImageUrl:(null===(o=e.image)||void 0===o||null===(d=o.asset)||void 0===d?void 0:d.url)||null}}}),o=(0,a.A)(d);l.forEach(e=>{o.some(t=>t.slug===e.slug)||o.push(e)}),u(o.filter(p).sort(f).reverse())}catch(n){console.error("Errore nel fetch remoto, uso i dati statici:",n)}})()},[d]),i.createElement(r.A,null,i.createElement(c,{posts:s,isFromPost:o}))};const h=e=>{let{location:t}=e;return i.createElement(g.k,{title:"Gruppo Natura Lentiai - Blog",pathname:t.pathname})}}}]);
//# sourceMappingURL=component---src-pages-blog-tsx-f1dafdbe78e4644a3880.js.map