"use strict";(self.webpackChunksite_gruppo_natura_lentiai=self.webpackChunksite_gruppo_natura_lentiai||[]).push([[71],{3706:function(e,t,n){n.d(t,{U:function(){return l}});const l="https://ze02ljgl.api.sanity.io/v2023-08-01/graphql/post-blog/default"},6177:function(e,t,n){n.r(t);var l=n(7896),a=n(7294),r=n(7452),o=n(4591),u=n(3706);t.default=()=>{var e,t,n,s;const{pathname:i}=(0,l.useLocation)(),d=i,{0:c,1:p}=(0,a.useState)(null),{0:g,1:h}=(0,a.useState)(!1),{0:f,1:v}=(0,a.useState)(null);(0,a.useEffect)((()=>{(async()=>{h(!0);const e=await(async e=>{try{const t="query {\n        allPost {\n          title\n          slug {\n            current\n          }\n          publishedAt\n          bodyRaw\n          author\n          image {\n            asset {\n              description\n              title\n              altText\n              url\n            }\n          }\n        }\n      }",n=await fetch(u.U,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:t})}),l=await n.json();if(l.errors)throw new Error(l.errors[0].message);const a=l.data.allPost.filter((t=>t.slug.current===e||t.slug.current===e.slice(0,-1))).at(0);return a||(console.warn("No post found for slug",e),void console.log("Posts found were",l.data))}catch(t){return v("Failed to fetch post data."),null}})(d);e&&p(e),h(!1)})()}),[d]);const m=(null==c?void 0:c.title)||"Loading...",y=(null==c?void 0:c.publishedAt)||null,w=(null==c?void 0:c.bodyRaw)||null,b=(null==c?void 0:c.author)||null,E=(null==c||null===(e=c.image)||void 0===e||null===(t=e.asset)||void 0===t?void 0:t.altText)||"",_=(null==c||null===(n=c.image)||void 0===n||null===(s=n.asset)||void 0===s?void 0:s.url)||null;return g?a.createElement("p",null,"Caricamento..."):f?a.createElement("p",null,"Errore: ",f):a.createElement(r.Z,null,a.createElement(o.Z,{renderTitle:m,renderPublishedAt:null!=y?y:"",gatsbyImage:void 0,renderImageUrl:null!=_?_:"",renderBody:w,author:null!=b?b:"",coverImageAlt:E}))}}}]);
//# sourceMappingURL=component---src-templates-post-client-tsx-4199578632fdc7de4956.js.map