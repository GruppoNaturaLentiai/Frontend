"use strict";(self.webpackChunksite_gruppo_natura_lentiai=self.webpackChunksite_gruppo_natura_lentiai||[]).push([[186],{3706:function(e,n,t){t.d(n,{U:function(){return r}});const r="https://ze02ljgl.api.sanity.io/v2023-08-01/graphql/post-blog/default"},9926:function(e,n,t){t.r(n),t.d(n,{default:function(){return J}});var r=t(5893);function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n,t){return(n=function(e){var n=function(e,n){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==typeof n?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function s(e){return"span"===e._type&&"text"in e&&"string"==typeof e.text&&(typeof e.marks>"u"||Array.isArray(e.marks)&&e.marks.every((e=>"string"==typeof e)))}function c(e){return"string"==typeof e._type&&"@"!==e._type[0]&&(!("markDefs"in e)||!e.markDefs||Array.isArray(e.markDefs)&&e.markDefs.every((e=>"string"==typeof e._key)))&&"children"in e&&Array.isArray(e.children)&&e.children.every((e=>"object"==typeof e&&"_type"in e))}function u(e){return c(e)&&"listItem"in e&&"string"==typeof e.listItem&&(typeof e.level>"u"||"number"==typeof e.level)}function a(e){return"@list"===e._type}function d(e){return"@span"===e._type}function p(e){return"@text"===e._type}const f=["strong","em","code","underline","strike-through"];function m(e,n,t){if(!s(e)||!e.marks)return[];if(!e.marks.length)return[];const r=e.marks.slice(),l={};return r.forEach((e=>{l[e]=1;for(let r=n+1;r<t.length;r++){const n=t[r];if(!(n&&s(n)&&Array.isArray(n.marks)&&-1!==n.marks.indexOf(e)))break;l[e]++}})),r.sort(((e,n)=>function(e,n,t){const r=e[n],l=e[t];if(r!==l)return l-r;const i=f.indexOf(n),o=f.indexOf(t);return i!==o?i-o:n.localeCompare(t)}(l,e,n)))}function y(e,n){return(e.level||1)===n.level&&e.listItem===n.listItem}function h(e,n,t){return{_type:"@list",_key:`${e._key||`${n}`}-parent`,mode:t,level:e.level||1,listItem:e.listItem,children:[e]}}function k(e,n){const t=n.level||1,r=n.listItem||"normal",l="string"==typeof n.listItem;if(a(e)&&(e.level||1)===t&&l&&(e.listItem||"normal")===r)return e;if(!("children"in e))return;const i=e.children[e.children.length-1];return i&&!s(i)?k(i,n):void 0}function g(e){let n="";return e.children.forEach((e=>{p(e)?n+=e.text:d(e)&&(n+=g(e))})),n}var b=t(7294);const v=["block","list","listItem","marks","types"],x=["listItem"],j=["_key"];function w(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function I(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?w(Object(t),!0).forEach((function(n){_(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):w(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function _(e,n,t){return(n=function(e){var n=function(e,n){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==typeof n?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function O(e,n){if(null==e)return{};var t,r,l=function(e,n){if(null==e)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.includes(r))continue;t[r]=e[r]}return t}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.includes(t)||{}.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}const E={textDecoration:"underline"},P=(e,n)=>`[@portabletext/react] Unknown ${e}, specify a component for it in the \`components.${n}\` prop`,S=e=>P(`block type "${e}"`,"types");function N(e){console.warn(e)}const $={display:"none"},T={types:{},block:{normal:({children:e})=>(0,r.jsx)("p",{children:e}),blockquote:({children:e})=>(0,r.jsx)("blockquote",{children:e}),h1:({children:e})=>(0,r.jsx)("h1",{children:e}),h2:({children:e})=>(0,r.jsx)("h2",{children:e}),h3:({children:e})=>(0,r.jsx)("h3",{children:e}),h4:({children:e})=>(0,r.jsx)("h4",{children:e}),h5:({children:e})=>(0,r.jsx)("h5",{children:e}),h6:({children:e})=>(0,r.jsx)("h6",{children:e})},marks:{em:({children:e})=>(0,r.jsx)("em",{children:e}),strong:({children:e})=>(0,r.jsx)("strong",{children:e}),code:({children:e})=>(0,r.jsx)("code",{children:e}),underline:({children:e})=>(0,r.jsx)("span",{style:E,children:e}),"strike-through":({children:e})=>(0,r.jsx)("del",{children:e}),link:({children:e,value:n})=>(0,r.jsx)("a",{href:n?.href,children:e})},list:{number:({children:e})=>(0,r.jsx)("ol",{children:e}),bullet:({children:e})=>(0,r.jsx)("ul",{children:e})},listItem:({children:e})=>(0,r.jsx)("li",{children:e}),hardBreak:()=>(0,r.jsx)("br",{}),unknownType:({value:e,isInline:n})=>{const t=S(e._type);return n?(0,r.jsx)("span",{style:$,children:t}):(0,r.jsx)("div",{style:$,children:t})},unknownMark:({markType:e,children:n})=>(0,r.jsx)("span",{className:`unknown__pt__mark__${e}`,children:n}),unknownList:({children:e})=>(0,r.jsx)("ul",{children:e}),unknownListItem:({children:e})=>(0,r.jsx)("li",{children:e}),unknownBlockStyle:({children:e})=>(0,r.jsx)("p",{children:e})};function D(e,n,t){const r=n[t],l=e[t];return"function"==typeof r||r&&"function"==typeof l?r:r?I(I({},l),r):l}function A({value:e,components:n,listNestingMode:t,onMissingComponent:l=N}){const o=l||M,s=function(e,n){const t=[];let r;for(let l=0;l<e.length;l++){const o=e[l];if(o){if(!u(o)){t.push(o),r=void 0;continue}if(!r){r=h(o,l,n),t.push(r);continue}if(y(o,r)){r.children.push(o);continue}if((o.level||1)>r.level){const e=h(o,l,n);if("html"===n){const n=r.children[r.children.length-1],t=i(i({},n),{},{children:[...n.children,e]});r.children[r.children.length-1]=t}else r.children.push(e);r=e;continue}if((o.level||1)<r.level){const e=t[t.length-1],i=e&&k(e,o);if(i){r=i,r.children.push(o);continue}r=h(o,l,n),t.push(r);continue}if(o.listItem!==r.listItem){const e=t[t.length-1],i=e&&k(e,{level:o.level||1});if(i&&i.listItem===o.listItem){r=i,r.children.push(o);continue}r=h(o,l,n),t.push(r);continue}console.warn("Unknown state encountered for block",o),t.push(o)}}return t}(Array.isArray(e)?e:[e],t||"html"),c=(0,b.useMemo)((()=>n?function(e,n){const{block:t,list:r,listItem:l,marks:i,types:o}=n,s=O(n,v);return I(I({},e),{},{block:D(e,n,"block"),list:D(e,n,"list"),listItem:D(e,n,"listItem"),marks:D(e,n,"marks"),types:D(e,n,"types")},s)}(T,n):T),[n]),a=(0,b.useMemo)((()=>C(c,o)),[c,o]),d=s.map(((e,n)=>a({node:e,index:n,isInline:!1,renderNode:a})));return(0,r.jsx)(r.Fragment,{children:d})}const C=(e,n)=>{function t(l){const{node:i,index:o,isInline:s}=l,f=i._key||`node-${o}`;return a(i)?function(l,i,o){const s=l.children.map(((e,n)=>t({node:e._key?e:I(I({},e),{},{_key:`li-${i}-${n}`}),index:n,isInline:!1,renderNode:t}))),c=e.list,u=("function"==typeof c?c:c[l.listItem])||e.unknownList;if(u===e.unknownList){const e=l.listItem||"bullet";n(P(`list style "${e}"`,"list"),{nodeType:"listStyle",type:e})}return(0,r.jsx)(u,{value:l,index:i,isInline:!1,renderNode:t,children:s},o)}(i,o,f):u(i)?function(l,i,o){const s=L({node:l,index:i,isInline:!1,renderNode:t}),c=e.listItem,u=("function"==typeof c?c:c[l.listItem])||e.unknownListItem;if(u===e.unknownListItem){const e=l.listItem||"bullet";n(P(`list item style "${e}"`,"listItem"),{type:e,nodeType:"listItemStyle"})}let a=s.children;if(l.style&&"normal"!==l.style){const{listItem:e}=l;a=t({node:O(l,x),index:i,isInline:!1,renderNode:t})}return(0,r.jsx)(u,{value:l,index:i,isInline:!1,renderNode:t,children:a},o)}(i,o,f):d(i)?function(l,i,o){const{markDef:s,markType:c,markKey:u}=l,a=e.marks[c]||e.unknownMark,d=l.children.map(((e,n)=>t({node:e,index:n,isInline:!0,renderNode:t})));return a===e.unknownMark&&n((e=>P(`mark type "${e}"`,"marks"))(c),{nodeType:"mark",type:c}),(0,r.jsx)(a,{text:g(l),value:s,markType:c,markKey:u,renderNode:t,children:d},o)}(i,0,f):function(n){return n._type in e.types}(i)?function(n,l,i,o){const s={value:n,isInline:o,index:l,renderNode:t},c=e.types[n._type];return c?(0,r.jsx)(c,I({},s),i):null}(i,o,f,s):c(i)?function(l,i,o,s){const c=L({node:l,index:i,isInline:s,renderNode:t}),{_key:u}=c,a=O(c,j),d=a.node.style||"normal",p=("function"==typeof e.block?e.block:e.block[d])||e.unknownBlockStyle;return p===e.unknownBlockStyle&&n((f=d,P(`block style "${f}"`,"block")),{nodeType:"blockStyle",type:d}),(0,r.jsx)(p,I(I({},a),{},{value:a.node,renderNode:t}),o);var f}(i,o,f,s):p(i)?function(n,t){if("\n"===n.text){const n=e.hardBreak;return n?(0,r.jsx)(n,{},t):"\n"}return n.text}(i,f):function(l,i,o,s){const c={value:l,isInline:s,index:i,renderNode:t};n(S(l._type),{nodeType:"block",type:l._type});const u=e.unknownType;return(0,r.jsx)(u,I({},c),o)}(i,o,f,s)}return t};function L(e){const{node:n,index:t,isInline:r,renderNode:l}=e,i=function(e){var n;const{children:t,markDefs:r=[]}=e;if(!t||!t.length)return[];const l=t.map(m),i={_type:"@span",children:[],markType:"<unknown>"};let o=[i];for(let c=0;c<t.length;c++){const e=t[c];if(!e)continue;const i=l[c]||[];let u=1;if(o.length>1)for(;u<o.length;u++){const e=(null==(n=o[u])?void 0:n.markKey)||"",t=i.indexOf(e);if(-1===t)break;i.splice(t,1)}o=o.slice(0,u);let a=o[o.length-1];if(a){for(const n of i){const t=r.find((e=>e._key===n)),l=t?t._type:n,i={_type:"@span",_key:e._key,children:[],markDef:t,markType:l,markKey:n};a.children.push(i),o.push(i),a=i}if(s(e)){const n=e.text.split("\n");for(let e=n.length;e-- >1;)n.splice(e,0,"\n");a.children=a.children.concat(n.map((e=>({_type:"@text",text:e}))))}else a.children=a.children.concat(e)}}return i.children}(n).map(((e,n)=>l({node:e,isInline:!0,index:n,renderNode:l})));return{_key:n._key||`block-${t}`,children:i,index:t,isInline:r,node:n}}function M(){}var B=t(8032),q=t(8397);var U=t(5086),K=t(9991);const R=U.default.div.withConfig({displayName:"styled__ImageWrapper",componentId:"sc-ac16ku-0"})(["display:flex;flex-direction:column;align-items:",";text-align:",";"],(e=>{let{$position:n}=e;switch(n){case"left":return"flex-start";case"right":return"flex-end";default:return"center"}}),(e=>{let{$position:n}=e;return"center"===n?"center":"inherit"})),F=U.default.img.withConfig({displayName:"styled__ResponsiveImg",componentId:"sc-ac16ku-1"})(['max-width:"100%";height:"auto";display:"block";margin:"1em 0";']),W=(0,U.default)(K.P4).withConfig({displayName:"styled__ImgDescription",componentId:"sc-ac16ku-2"})(["font-style:italic;text-align:center;margin-block-start:0.5em;"]);var z={types:{image:e=>{let{value:n}=e;if(!n.asset||!n.asset._ref)return null;const t=(e=>{if(!e)return null;const[,n,t,r]=e.match(/image-([^-]+)-(\d+x\d+)-(.+)/)||[];return n&&t&&r?`https://cdn.sanity.io/images/ze02ljgl/post-blog/${n}-${t}.${r}`:null})(n.asset._ref);return t?b.createElement(R,{$position:n.position},b.createElement("div",null,b.createElement(F,{src:t,alt:n.textAlt||"Content image",style:{maxWidth:"100%",height:"auto",display:"block",margin:"1em 0"}}),n.undertext&&b.createElement(W,null,n.undertext))):null}},block:{normal:e=>{let{children:n}=e;return b.createElement(K.P1,{style:{lineHeight:"1.6",margin:"1em 0"}},n)}},marks:{link:e=>{let{value:n,children:t}=e;const{href:r}=n;return b.createElement("a",{href:r,target:"_blank",rel:"noopener noreferrer",style:{color:"blue"}},t)}},list:{bullet:e=>{let{children:n}=e;return b.createElement("ul",null,n)},number:e=>{let{children:n}=e;return b.createElement("ol",null,n)}},listItem:{bullet:e=>{let{children:n}=e;return b.createElement("li",null,n)},number:e=>{let{children:n}=e;return b.createElement("li",null,n)}},hardBreak:()=>b.createElement("br",null),unknownMark:e=>{let{children:n}=e;return b.createElement("span",{style:{backgroundColor:"yellow"}},n)},unknownType:e=>{let{value:n}=e;return b.createElement("div",{style:{border:"1px solid red",padding:"10px"}},"Unknown type: ",JSON.stringify(n))},unknownBlockStyle:e=>{let{children:n}=e;return b.createElement("div",{style:{fontStyle:"italic",color:"gray"}},n)},unknownList:e=>{let{children:n}=e;return b.createElement("ul",{style:{listStyle:"square"}},n)},unknownListItem:e=>{let{children:n}=e;return b.createElement("li",{style:{color:"red"}},n)}},H=t(3706);var J=e=>{var n,t,r,l,i,o,s,c;let{pageContext:u}=e;const{0:a,1:d}=(0,b.useState)(null),{0:p,1:f}=(0,b.useState)(!1),{0:m,1:y}=(0,b.useState)(null),{slug:h,title:k,publishedAt:g,bodyRaw:v,mainImage:x}=u,{gatsbyImage:j,description:w,altText:I,title:_}=x;(0,b.useEffect)((()=>{if(!k){const e=async()=>{f(!0);const e=await(async e=>{console.log("Fetching data for!",e);try{const n="query {\n        allPost {\n          title\n          slug {\n            current\n          }\n          publishedAt\n          bodyRaw\n          author\n          image {\n            asset {\n              description\n              title\n              altText\n              url\n            }\n          }\n        }\n      }",t=await fetch(H.U,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:n})}),r=await t.json();if(r.errors)throw new Error(r.errors[0].message);const l=r.data.allPost.filter((n=>n.slug.current===`${e}`)).at(0);return l||(console.warn("No post found for slug",e),void console.log("Posts found were",r.data))}catch(n){return y("Failed to fetch post data."),null}})(u.slug);e&&d(e),f(!1)};e()}}),[h,k]);const O=k||(null==a?void 0:a.title)||"Loading...",E=g||(null==a?void 0:a.publishedAt)||null,P=v||(null==a?void 0:a.bodyRaw)||null,S=u.author||(null==a?void 0:a.author)||null,N=I||(null==a||null===(n=a.image)||void 0===n||null===(t=n.asset)||void 0===t?void 0:t.altText)||"",$=(null==a||null===(r=a.image)||void 0===r||null===(l=r.asset)||void 0===l?void 0:l.url)||null;_||null==a||null===(i=a.image)||void 0===i||null===(o=i.asset)||void 0===o||o.title,w||null==a||null===(s=a.image)||void 0===s||null===(c=s.asset)||void 0===c||c.description;return p?b.createElement("p",null,"Loading..."):m?b.createElement("p",null,"Error: ",m):b.createElement(q.Z,null,b.createElement("article",{style:{padding:32}},b.createElement(K.H1,null,O),E&&b.createElement(K.P4,null,"Articolo pubblicato in data:"," ",new Date(E).toLocaleDateString()),j&&b.createElement(B.G,{image:j,alt:N}),!j&&$&&b.createElement("img",{src:$,alt:N,style:{maxWidth:"100%",height:"auto"}}),b.createElement(A,{value:P,components:z}),S&&b.createElement(K.P3,null,"Articolo firmato: ",S)))}}}]);
//# sourceMappingURL=component---src-templates-post-tsx-0f3815e4314e51111e43.js.map